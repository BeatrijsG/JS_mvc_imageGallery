<!DOCTYPE HTML>
<html>
<head>
	<meta charset="UTF-8">
	<title>Image gallery - opdracht</title>
	<link rel="stylesheet" type="text/css" href="gallery.css">
</head>
<body>
	<p>
		<img id="largeImg" src="afbeeldingen/groot/1.jpg" alt="Large image">
	</p>
	<div id="thumbs">
		<a href="afbeeldingen/groot/1.jpg" title="Image 1">
			<img src="afbeeldingen/1.jpg">
		</a>
	</div>
	<button id="add">Voeg afbeelding toe</button>

	<script type="text/javascript">
		"use strict";

		(function(){
			var model = {
				data: {
					teller: 2,
				},
				tellerVerhogen(){
					model.data.teller++;
				}
			}
			var view = {
				data: {
					imagesBron: "afbeeldingen/",
					divThumbs: "",
				},
				init: function(){
					view.data.divThumbs = document.getElementById("thumbs");
				},
				toevoegenThumb: function(nieuweThumb){
					view.data.divThumbs.appendChild(nieuweThumb);
				}
			}
			var controller = {
				data: {
					largeImg: "",
					buttonAdd: "",
					nieuweThumb: "",
				},
				init: function(){
					controller.data.largeImg = document.getElementById('largeImg');
					controller.data.buttonAdd = document.getElementById('add');
					controller.data.buttonAdd.addEventListener('click', function(e){
						// console.log('test: eventListener bij klik op knop add');
						controller.nieuweLinkMaken();
						controller.nieuweImgMaken();
						view.toevoegenThumb(controller.data.nieuweThumb);
						model.tellerVerhogen();
						controller.clear();
					});
				},
				nieuweLinkMaken: function(){
					controller.data.nieuweThumb = document.createElement("a");
					var nieuweHref = view.data.imagesBron + "groot/" + model.data.teller + ".jpg";
					// console.log(nieuweHref);
					controller.data.nieuweThumb.href = nieuweHref;
					controller.data.nieuweThumb.title = "Image" + model.data.teller;
				},
				nieuweImgMaken: function(){
					var nieuweImg = document.createElement("img");
					nieuweImg.src = view.data.imagesBron + model.data.teller + ".jpg";
					controller.data.nieuweThumb.appendChild(nieuweImg);
				},
				clear: function(){
					controller.nieuweThumb = '';
				}
			}
			window.addEventListener("DOMContentLoaded", function(){
				view.init();
				controller.init();
			})
		})();

		// view: showNewThumb()
		// controller: initEventListeners(), setThumb(), verhoogTeller(), SetLargeImg()

		// document.getElementById('add').addEventListener('click', function(e){
		// 	var nieuweThumb = document.createElement("A");
		// 	var newHref=imagesBron + "groot/" + teller + ".jpg";
		// 	console.log(newHref);
		// 	nieuweThumb.href=newHref;
		// 	nieuweThumb.title="Image" + teller;

		// 	var nieuweImg =document.createElement("IMG");
		// 	nieuweImg.src=imagesBron + teller + ".jpg";
		// 	nieuweThumb.appendChild(nieuweImg);

		// 	var divThumbs = document.getElementById("thumbs");
		// 	divThumbs.appendChild(nieuweThumb);
		// 	teller++
		// });

		// document.getElementById('thumbs').addEventListener('click', function(e) {
		// 	if(e.target.nodeName ==  "IMG"){
		// 		var anchor = e.target.parentNode;
		// 		largeImg.src = anchor.href;
		// 		largeImg.alt = anchor.title;
		// 	}
		// 	e.preventDefault();
		// })
	</script>
</body>
</html>